function(instance, context) {instance.data.noscrubs=function t(a,e,r){a.data.scripturls=[],a.data.test_for_functions=[],a.data.documentScripts=null,a.data.numScripts=null,a.data.numFunctions=null,a.data.loadedScripts=[],a.data.errorScripts=[],a.data.documentScripts=[],a.data.savedProps=null,a.data.initialized=null,a.data.funcListener=function(t){return"complete"==t.target.readyState&&(a.data.windowLoaded=!0,a.data.initialized?a.data.funcUpdate(a,null,r,!0):r.reportDebugger("LOADERR is not initialized. LOAD Script Action will not run.")),t.target.readyState},a.data.funcUpdate=function t(a,e,r,n){if(e?a.data.savedProps=e:e=a.data.savedProps,a.data.load_on_page_load=e.load_on_page_load,a.data.scripturls=e.scripturl?e.scripturl.split(",").map(t=>t.trim()):[],a.data.numScripts=a.data.scripturls.length,a.data.test_for_script_url=e.test_for_script_url,a.data.test_for_functions=e.test_for_function?e.test_for_function.split(",").map(t=>t.trim()):[],a.data.numFunctions=a.data.test_for_functions.length,a.data.documentScripts=[...document.scripts].map(t=>t.src).filter(t=>t),a.publishState("document_scripts",a.data.documentScripts),a.data.numFunctions&&a.data.numFunctions!=a.data.numScripts)r.reportDebugger("LOADERR: Mismatch between number of function tests and number of scripts. NO SCRIPTS WILL BE LOADED. You specified "+a.data.numFunctions+" functions to test and "+a.data.numScripts+' scripts to load. When functions to test are specified, there must be a function for each script. Note that functions can be empty - for example, if Script URLs are "script1, script2, script3" and you only want to force a function test for script2, your Test for Function(s) setting should be " , function2, "');else if(a.data.numScripts)if(a.data.numFunctions>0&&(a.data.scripturls=a.data.scripturls.filter((t,e)=>!a.data.test_for_functions[e]||"function"!=eval("typeof "+a.data.test_for_functions[e]))),a.data.test_for_script_url&&(a.data.scripturls=a.data.scripturls.filter(t=>!a.data.documentScripts.includes(t))),a.data.numScripts=a.data.scripturls.length,a.publishState("scripts_to_load",a.data.scripturls),a.data.initialized=!0,a.data.load_on_page_load&&"complete"!=document.readyState)document.addEventListener("readystatechange",a.data.funcListener);else if(a.data.load_on_page_load||n){var s=document.createDocumentFragment();a.data.scripturls.forEach(t=>{if(null!=t){var e=document.createElement("script");e.src=t,e.defer=!0,e.onerror=function(){a.data.errorScripts.push(this.src),a.publishState("error_scripts",a.data.errorScripts),a.data.loadedScripts.length+a.data.errorScripts.length==a.data.numScripts&&(a.triggerEvent("scripts_loaded"),a.publishState("loading_complete",!0))},e.onload=function(){a.data.loadedScripts.push(this.src),a.publishState("loaded_scripts",a.data.loadedScripts),a.data.loadedScripts.length+a.data.errorScripts.length==a.data.numScripts&&(a.triggerEvent("scripts_loaded"),a.publishState("loading_complete",!0))},s.appendChild(e)}});let t=async t=>{await document.head.appendChild(t);a.data.documentScripts=[...document.scripts].map(t=>t.src).filter(t=>t),a.publishState("document_scripts",a.data.documentScripts)};t(s)}},a.data.funcWinLoad=function(){}},instance.data.noscrubs(instance,context);}